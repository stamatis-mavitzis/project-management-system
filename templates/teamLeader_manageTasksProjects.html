<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Tasks & Projects</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='script/script.js') }}"></script>
</head>
<body>
    <h1>Manage Tasks & Projects</h1>

    <h2>Teams</h2>
    <div class="teams-container">
        {% for team in teams %}
            <div class="team-card">
                <div class="team-name">{{ team.team_name }}</div>
                <div class="team-description">{{ team.description }}</div>
            </div>
        {% else %}
            <p>No teams found.</p>
        {% endfor %}
    </div>

    <h2>Tasks</h2>
    <table class="tasks-table">
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Status</th>
            <th>Priority</th>
            <th>Due Date</th>
            <th>Assigned To</th>
            <th>Team</th>
        </tr>
        {% for task in tasks %}
        <tr>
            <td>{{ task.title }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.status }}</td>
            <td>{{ task.priority }}</td>
            <td>{{ task.due_date | format_date }}</td>
            <td>{{ task.assigned_username }}</td>
            <td>{{ task.team_name }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="7" style="text-align: center;">No tasks available.</td>
        </tr>
        {% endfor %}
    </table>

    <div class="back-btn-container">
        <form action="{{ url_for('teamLeader_mainpage_bp.teamLeader_mainpage') }}" method="get">
            <button type="submit">‚Üê Back to Dashboard</button>
        </form>
    </div>
</body>
</html>