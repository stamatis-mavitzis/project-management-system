<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Task - {{ task.title }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='script/script.js') }}"></script>
</head>
<body>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-container">
      {% for category, message in messages %}
        <div class="flash {{ category }}">{{ message }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<h1>Edit Task: {{ task.title }}</h1>

<form method="POST" action="{{ url_for('teamLeader_mainpage_bp.edit_task', task_id=task.task_id) }}">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="{{ task.title }}" required><br><br>

    <label for="description">Description:</label><br>
    <textarea id="description" name="description" required>{{ task.description }}</textarea><br><br>

    <label for="status">Status:</label>
    <select id="status" name="status" required>
        <option value="TODO" {% if task.status == "TODO" %}selected{% endif %}>TODO</option>
        <option value="IN PROGRESS" {% if task.status == "IN PROGRESS" %}selected{% endif %}>IN PROGRESS</option>
        <option value="DONE" {% if task.status == "DONE" %}selected{% endif %}>DONE</option>
    </select><br><br>

    <label for="priority">Priority:</label>
    <select id="priority" name="priority" required>
        <option value="Low" {% if task.priority == "Low" %}selected{% endif %}>Low</option>
        <option value="Medium" {% if task.priority == "Medium" %}selected{% endif %}>Medium</option>
        <option value="High" {% if task.priority == "High" %}selected{% endif %}>High</option>
    </select><br><br>

    <label for="due_date">Due Date:</label>
    <input type="date" id="due_date" name="due_date" value="{{ task.due_date }}"><br><br>

    <button type="submit">Update Task</button>
</form>

<hr>
<a href="{{ url_for('teamLeader_mainpage_bp.view_task', task_id=task.task_id) }}">â¬… Back to Task Details</a>

</body>
</html>
